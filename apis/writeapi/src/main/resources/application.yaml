server:
  port: 8888

resilience4j:
  circuitbreaker:
    instances:
      tag-toggle-cb:
        registerHealthIndicator: true
        slidingWindowSize: 10
        minimumNumberOfCalls: 5
        failureRateThreshold: 40
        slowCallDurationThreshold: 1800ms
        slowCallRateThreshold: 45
        waitDurationInOpenState: 15s
        permittedNumberOfCallsInHalfOpenState: 2

      tagUpdateCB:
        registerHealthIndicator: true
        slidingWindowSize: 8
        minimumNumberOfCalls: 4
        failureRateThreshold: 35
        slowCallDurationThreshold: 1500ms
        slowCallRateThreshold: 35
        waitDurationInOpenState: 20s
        permittedNumberOfCallsInHalfOpenState: 1

      tagCreateCB:
        registerHealthIndicator: true
        slidingWindowSize: 8
        minimumNumberOfCalls: 4
        failureRateThreshold: 35
        slowCallDurationThreshold: 1500ms
        slowCallRateThreshold: 35
        waitDurationInOpenState: 20s
        permittedNumberOfCallsInHalfOpenState: 1

      tagGetCB:
        registerHealthIndicator: true
        slidingWindowSize: 10
        minimumNumberOfCalls: 5
        failureRateThreshold: 50
        slowCallDurationThreshold: 2500ms
        slowCallRateThreshold: 50
        waitDurationInOpenState: 10s
        permittedNumberOfCallsInHalfOpenState: 2

      tagDeleteCB:
        registerHealthIndicator: true
        slidingWindowSize: 6
        minimumNumberOfCalls: 3
        failureRateThreshold: 30
        slowCallDurationThreshold: 1200ms
        slowCallRateThreshold: 30
        waitDurationInOpenState: 30s
        permittedNumberOfCallsInHalfOpenState: 1

  retry:
    instances:
      super-adm-retry:
        maxAttempts: 7
        waitDuration: 6s
        retryExceptions:
          - org.springframework.dao.DataAccessException

      create-retry:
        maxAttempts: 4
        waitDuration: 4s
        retryExceptions:
          - org.springframework.dao.DataAccessException

      delete-retry:
        maxAttempts: 3
        waitDuration: 4s
        retryExceptions:
          - org.springframework.dao.DataAccessException

      update-retry:
        maxAttempts: 5
        waitDuration: 5s
        retryExceptions:
          - org.springframework.dao.DataAccessException

spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:4000/blog_db?allowPublicKeyRetrieval=true&useSSL=false
    username: root
    password:

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    database-platform: org.hibernate.dialect.MySQLDialect
  argon:
    saltLength: 16
    hashLength: 32
    parallelism: 1
    memory: 65536
    iterations: 3
  application:
    name: writeapi
  front:
    url: http://localhost:3000
  security:
    exp:
      token: 24
      refresh: 444444
    jwt:
      secret: 5438y43v734vb7t40yt7y7rft47r7tv43htf3ht40f7t430ft0ft3t4fh94t3r3653667586578784658467867846786667v
snowflake:
  worker-id: 5
  datacenter-id: 1